(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},22:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),r=t(16),u=t.n(r),o=(t(21),t(7)),i=t(3),s=(t(22),t(0));var d=function(e){var n=e.person,t=e.handleDelete;return Object(s.jsxs)("li",{children:[n.name," ",n.number," ",Object(s.jsx)("button",{onClick:t,children:"delete"})]})};var l=function(e){var n=e.value,t=e.onChange;return Object(s.jsx)("div",{children:Object(s.jsx)("input",{value:n,onChange:t})})};var h=function(e){var n=e.props;return Object(s.jsxs)("form",{onSubmit:n.addPerson,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:n.newName,onChange:n.handleNameChange})]}),Object(s.jsxs)("div",{children:["telephone: ",Object(s.jsx)("input",{value:n.newTelephone,onChange:n.handleTelephoneChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},j=t(4),f=t.n(j),b="/api/persons",m=function(){return f.a.get(b).then((function(e){return e.data}))},O=function(e){return f.a.post(b,e).then((function(e){return e.data}))},p=function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},v=function(e){return f.a.delete("".concat(b,"/").concat(e))};t(43);var x=function(e){var n=e.message,t=e.type;return null===n?null:Object(s.jsx)("div",{className:t,children:n})};var g=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),u=Object(i.a)(r,2),j=u[0],f=u[1],b=Object(c.useState)(""),g=Object(i.a)(b,2),C=g[0],w=g[1],S=Object(c.useState)(""),y=Object(i.a)(S,2),k=y[0],N=y[1],T=Object(c.useState)(""),D=Object(i.a)(T,2),P=D[0],F=D[1],L=Object(c.useState)(""),I=Object(i.a)(L,2),B=I[0],E=I[1];Object(c.useEffect)((function(){m().then((function(e){return a(e)}))}),[]);var J=function(e){A(e,"success")},A=function(e,n){F(e),E(n),setTimeout((function(){F(null)}),2e3)},M=function(e){window.confirm("Delete ".concat(e.name,"?"))&&v(e.id).then((function(){alert("".concat(e.name," deleted successfully")),a(t.filter((function(n){return n.id!==e.id})))})).catch((function(n){!function(e){A(e,"error")}("Information of ".concat(e.name," has already been removed from the server")),a(t.filter((function(n){return n.id!==e.id})))}))},q={addPerson:function(e){e.preventDefault();var n={name:j,number:C};if(t.find((function(e){return e.name===n.name}))){var c=window.confirm("".concat(n.name," is already added to phonebook, replace the old number with a new one?")),r=t.find((function(e){return e.name===n.name})),u=Object(o.a)(Object(o.a)({},r),{},{number:n.number});c&&p(u.id,u).then((function(e){a(t.map((function(n){return n.id!==r.id?n:e}))),J("Changed the number phone successfully")}))}else J("Added ".concat(n.name)),O(n).then((function(e){return a(t.concat(e))}))},newName:j,handleNameChange:function(e){return f(e.target.value)},handleTelephoneChange:function(e){return w(e.target.value)}};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(x,{message:P,type:B}),Object(s.jsx)(l,{value:k,onChange:function(e){return N(e.target.value)}}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(h,{props:q}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)("ul",{children:t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})).map((function(e){return Object(s.jsx)(d,{person:e,handleDelete:function(){return M(e)}},e.id)}))})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,45)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),c(e),a(e),r(e),u(e)}))};u.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.8c008944.chunk.js.map